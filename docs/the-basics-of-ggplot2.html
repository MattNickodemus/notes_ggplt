<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 The basics of ggplot2 | My notes of ggplot2</title>
  <meta name="description" content="My notes on using ggplot2" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 The basics of ggplot2 | My notes of ggplot2" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="My notes on using ggplot2" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 The basics of ggplot2 | My notes of ggplot2" />
  
  <meta name="twitter:description" content="My notes on using ggplot2" />
  

<meta name="author" content="Matt Nickodemus" />


<meta name="date" content="2021-01-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Notes on ggplot2</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Disclaimer</a></li>
<li class="chapter" data-level="2" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html"><i class="fa fa-check"></i><b>2</b> The basics of ggplot2</a>
<ul>
<li class="chapter" data-level="2.1" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
<li class="chapter" data-level="2.2" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>2.2</b> aesthetics</a></li>
<li class="chapter" data-level="2.3" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#geom"><i class="fa fa-check"></i><b>2.3</b> geom</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#wtf"><i class="fa fa-check"></i><b>2.3.1</b> WTF</a></li>
<li class="chapter" data-level="2.3.2" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#more-aesthetics"><i class="fa fa-check"></i><b>2.3.2</b> More aesthetics?</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#scale"><i class="fa fa-check"></i><b>2.4</b> Scale</a></li>
<li class="chapter" data-level="2.5" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#guide"><i class="fa fa-check"></i><b>2.5</b> Guide</a></li>
<li class="chapter" data-level="2.6" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#labels"><i class="fa fa-check"></i><b>2.6</b> Labels</a></li>
<li class="chapter" data-level="2.7" data-path="the-basics-of-ggplot2.html"><a href="the-basics-of-ggplot2.html#theme"><i class="fa fa-check"></i><b>2.7</b> Theme</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">My notes of ggplot2</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-basics-of-ggplot2" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> The basics of ggplot2</h1>
<p>Every layer in a ggplot has five components</p>
<ul>
<li>data</li>
<li>aesthetics</li>
<li>geom</li>
<li>stat</li>
<li>position</li>
</ul>
<p>In addition to these five components we need to understand scales, guides, and themes. We will do this with a set of examples. Our first example is straight forward line plot showing the number of credits taken in each college from 2011 to 2020. As we walk though this, we will look at three components</p>
<ul>
<li>data</li>
<li>aesthetics</li>
<li>geom</li>
</ul>
<p>and</p>
<ul>
<li>scales</li>
<li>guides</li>
<li>themes</li>
</ul>
<div id="data" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Data</h2>
<p>We will create a data set consisting of college credit counts for 2011-2020.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="the-basics-of-ggplot2.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="the-basics-of-ggplot2.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-3"><a href="the-basics-of-ggplot2.html#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="the-basics-of-ggplot2.html#cb1-4" aria-hidden="true" tabindex="-1"></a>make_credits <span class="ot">&lt;-</span> <span class="cf">function</span>(college) {</span>
<span id="cb1-5"><a href="the-basics-of-ggplot2.html#cb1-5" aria-hidden="true" tabindex="-1"></a>  slope <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">500</span>, <span class="dv">500</span>)</span>
<span id="cb1-6"><a href="the-basics-of-ggplot2.html#cb1-6" aria-hidden="true" tabindex="-1"></a>  intercept <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>, <span class="dv">20000</span>, <span class="dv">2000</span>) <span class="sc">%&gt;%</span> <span class="fu">floor</span>()</span>
<span id="cb1-7"><a href="the-basics-of-ggplot2.html#cb1-7" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb1-8"><a href="the-basics-of-ggplot2.html#cb1-8" aria-hidden="true" tabindex="-1"></a>  college <span class="ot">&lt;-</span> <span class="fu">rep</span>(college, <span class="dv">10</span>)</span>
<span id="cb1-9"><a href="the-basics-of-ggplot2.html#cb1-9" aria-hidden="true" tabindex="-1"></a>  noise <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">1000</span>, <span class="dv">1000</span>)</span>
<span id="cb1-10"><a href="the-basics-of-ggplot2.html#cb1-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-11"><a href="the-basics-of-ggplot2.html#cb1-11" aria-hidden="true" tabindex="-1"></a>  credits <span class="ot">&lt;-</span> intercept <span class="sc">+</span> slope<span class="sc">*</span>x <span class="sc">+</span> noise</span>
<span id="cb1-12"><a href="the-basics-of-ggplot2.html#cb1-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-13"><a href="the-basics-of-ggplot2.html#cb1-13" aria-hidden="true" tabindex="-1"></a>  output_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">college =</span> college, <span class="at">year =</span> <span class="dv">2010</span> <span class="sc">+</span> x, <span class="at">credits =</span> credits ) <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="the-basics-of-ggplot2.html#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">credits =</span> <span class="fu">as.integer</span>(credits))</span>
<span id="cb1-15"><a href="the-basics-of-ggplot2.html#cb1-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-16"><a href="the-basics-of-ggplot2.html#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output_df)</span>
<span id="cb1-17"><a href="the-basics-of-ggplot2.html#cb1-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-18"><a href="the-basics-of-ggplot2.html#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="the-basics-of-ggplot2.html#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="the-basics-of-ggplot2.html#cb1-20" aria-hidden="true" tabindex="-1"></a>colleges <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;Fine Art&#39;</span>, <span class="st">&#39;Business&#39;</span>, <span class="st">&#39;Physical Science&#39;</span>, <span class="st">&#39;Social Science&#39;</span>, </span>
<span id="cb1-21"><a href="the-basics-of-ggplot2.html#cb1-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">&#39;Health Science&#39;</span>, <span class="st">&#39;Humanities&#39;</span>, <span class="st">&#39;Life Science&#39;</span>, <span class="st">&#39;Earl&#39;</span>)</span>
<span id="cb1-22"><a href="the-basics-of-ggplot2.html#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="the-basics-of-ggplot2.html#cb1-23" aria-hidden="true" tabindex="-1"></a>credits_by_college <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(colleges, make_credits)</span></code></pre></div>
<p>This data output is in tidy format. In tidy data</p>
<ul>
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table.</li>
</ul>
<p>For our data set, the observations are the number of credits offered by a specific
college in a given term. The variables are year and credits. Your data should always be tidy when using ggplot.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="the-basics-of-ggplot2.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb2-2"><a href="the-basics-of-ggplot2.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(credits_by_college) <span class="sc">%&gt;%</span> <span class="fu">gt</span>()</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kkynsgosfl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kkynsgosfl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kkynsgosfl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kkynsgosfl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kkynsgosfl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kkynsgosfl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kkynsgosfl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kkynsgosfl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kkynsgosfl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kkynsgosfl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kkynsgosfl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kkynsgosfl .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kkynsgosfl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kkynsgosfl .gt_from_md > :first-child {
  margin-top: 0;
}

#kkynsgosfl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kkynsgosfl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kkynsgosfl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#kkynsgosfl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kkynsgosfl .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#kkynsgosfl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kkynsgosfl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kkynsgosfl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kkynsgosfl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kkynsgosfl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kkynsgosfl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#kkynsgosfl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kkynsgosfl .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#kkynsgosfl .gt_left {
  text-align: left;
}

#kkynsgosfl .gt_center {
  text-align: center;
}

#kkynsgosfl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kkynsgosfl .gt_font_normal {
  font-weight: normal;
}

#kkynsgosfl .gt_font_bold {
  font-weight: bold;
}

#kkynsgosfl .gt_font_italic {
  font-style: italic;
}

#kkynsgosfl .gt_super {
  font-size: 65%;
}

#kkynsgosfl .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="kkynsgosfl" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">college</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">credits</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Fine Art</td>
      <td class="gt_row gt_right">2011</td>
      <td class="gt_row gt_center">20441</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Fine Art</td>
      <td class="gt_row gt_right">2012</td>
      <td class="gt_row gt_center">23211</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Fine Art</td>
      <td class="gt_row gt_right">2013</td>
      <td class="gt_row gt_center">23772</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Fine Art</td>
      <td class="gt_row gt_right">2014</td>
      <td class="gt_row gt_center">21554</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Fine Art</td>
      <td class="gt_row gt_right">2015</td>
      <td class="gt_row gt_center">22254</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Fine Art</td>
      <td class="gt_row gt_right">2016</td>
      <td class="gt_row gt_center">23959</td>
    </tr>
  </tbody>
  
  
</table></div>
<p>In our plot the data layer is created with the following code. Note that there is nothing on plot. There are no axes, no graphs, no colors, no legend. Just a blank canvas. The reason for this is that in ggplot, the plot is created when we map the variables in the data to visual elements in the plot. This is done with the aes() function.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="the-basics-of-ggplot2.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college)</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="aesthetics" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> aesthetics</h2>
<p>When we add the <code>aes()</code> call within the <code>ggplot</code> call, we produce a set of axes on our plot. This is because we have mapped the variable year to the x axis in our graph, and the variable credits to the y-axis in our graph. We do not see a plot yet because we have not yet told ggplot what type of geometric object we want to use to in our plot. We do that next.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="the-basics-of-ggplot2.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits))</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="geom" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> geom</h2>
<div id="wtf" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> WTF</h3>
<p>In our next plot we have chosen the line geom for our graph. This does not give us the result that we are looking for. We are trying to draw a line chart showing credits for each year, for each college. The mistake we have made is that we have not assigned the college variable to as visual aspect of our graph. We do so in the next graph.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="the-basics-of-ggplot2.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits)) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="more-aesthetics" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> More aesthetics?</h3>
<p>This graph gives us something closer to what we are looking for, but it is still not quite there.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="the-basics-of-ggplot2.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits, <span class="at">group =</span> college)) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The problem is that we would like the lines to be different colors, and we would like each color to be associated with a color. So we have to map the variable college to another aesthetic, color.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="the-basics-of-ggplot2.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits, <span class="at">group =</span> college, <span class="at">color =</span> college)) <span class="sc">+</span> </span>
<span id="cb7-2"><a href="the-basics-of-ggplot2.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">8</span>)</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
</div>
<div id="scale" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Scale</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="the-basics-of-ggplot2.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="the-basics-of-ggplot2.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits, <span class="at">group =</span> college, <span class="at">color =</span> college)) <span class="sc">+</span> </span>
<span id="cb12-2"><a href="the-basics-of-ggplot2.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb12-3"><a href="the-basics-of-ggplot2.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">pretty_breaks</span>()) <span class="sc">+</span></span>
<span id="cb12-4"><a href="the-basics-of-ggplot2.html#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma)</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="guide" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Guide</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="the-basics-of-ggplot2.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits, <span class="at">group =</span> college, <span class="at">color =</span> college)) <span class="sc">+</span> </span>
<span id="cb13-2"><a href="the-basics-of-ggplot2.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb13-3"><a href="the-basics-of-ggplot2.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">pretty_breaks</span>()) <span class="sc">+</span></span>
<span id="cb13-4"><a href="the-basics-of-ggplot2.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb13-5"><a href="the-basics-of-ggplot2.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;College&quot;</span>))</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="labels" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Labels</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="the-basics-of-ggplot2.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits, <span class="at">group =</span> college, <span class="at">color =</span> college)) <span class="sc">+</span> </span>
<span id="cb14-2"><a href="the-basics-of-ggplot2.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb14-3"><a href="the-basics-of-ggplot2.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">pretty_breaks</span>()) <span class="sc">+</span></span>
<span id="cb14-4"><a href="the-basics-of-ggplot2.html#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb14-5"><a href="the-basics-of-ggplot2.html#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;College&quot;</span>)) <span class="sc">+</span></span>
<span id="cb14-6"><a href="the-basics-of-ggplot2.html#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Credits by college&quot;</span>,</span>
<span id="cb14-7"><a href="the-basics-of-ggplot2.html#cb14-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Credits taken within each college 2011-2020&quot;</span>,</span>
<span id="cb14-8"><a href="the-basics-of-ggplot2.html#cb14-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Data supplied by OIE&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-9"><a href="the-basics-of-ggplot2.html#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a href="the-basics-of-ggplot2.html#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&#39;Credits&#39;</span>)</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="theme" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Theme</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="the-basics-of-ggplot2.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(credits_by_college, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> credits, <span class="at">group =</span> college, <span class="at">color =</span> college)) <span class="sc">+</span> </span>
<span id="cb15-2"><a href="the-basics-of-ggplot2.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb15-3"><a href="the-basics-of-ggplot2.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">pretty_breaks</span>()) <span class="sc">+</span></span>
<span id="cb15-4"><a href="the-basics-of-ggplot2.html#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb15-5"><a href="the-basics-of-ggplot2.html#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;College&quot;</span>)) <span class="sc">+</span></span>
<span id="cb15-6"><a href="the-basics-of-ggplot2.html#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Credits by college&quot;</span>,</span>
<span id="cb15-7"><a href="the-basics-of-ggplot2.html#cb15-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Credits taken within each college 2011-2020&quot;</span>,</span>
<span id="cb15-8"><a href="the-basics-of-ggplot2.html#cb15-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Data supplied by OIE&quot;</span>,</span>
<span id="cb15-9"><a href="the-basics-of-ggplot2.html#cb15-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;Year&#39;</span>,</span>
<span id="cb15-10"><a href="the-basics-of-ggplot2.html#cb15-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&#39;Credits&#39;</span>) <span class="sc">+</span></span>
<span id="cb15-11"><a href="the-basics-of-ggplot2.html#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-12"><a href="the-basics-of-ggplot2.html#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb15-13"><a href="the-basics-of-ggplot2.html#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-14"><a href="the-basics-of-ggplot2.html#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-15"><a href="the-basics-of-ggplot2.html#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-16"><a href="the-basics-of-ggplot2.html#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;#a6a6a6&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb15-17"><a href="the-basics-of-ggplot2.html#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&#39;#a6a6a6&#39;</span>, <span class="at">size =</span> <span class="dv">8</span>, <span class="at">face =</span> <span class="st">&#39;italic&#39;</span>)</span>
<span id="cb15-18"><a href="the-basics-of-ggplot2.html#cb15-18" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="notes_ggplot_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["notes_ggplot.pdf", "notes_ggplot.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
